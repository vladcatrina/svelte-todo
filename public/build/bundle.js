var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function s(e){let t;return r(e,e=>t=e)(),t}function c(e,t,n){e.$$.on_destroy.push(r(t,n))}function u(e){return null==e?"":e}function a(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function h(){return g(" ")}function $(){return g("")}function v(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function I(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function M(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let R;function D(e){R=e}function L(e){(function(){if(!R)throw new Error("Function called outside component initialization");return R})().$$.on_mount.push(e)}function S(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const C=[],_=[],q=[],E=[],T=Promise.resolve();let N=!1;function A(e){q.push(e)}function O(e){E.push(e)}let P=!1;const z=new Set;function j(){if(!P){P=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];D(t),F(t.$$)}for(D(null),C.length=0;_.length;)_.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];z.has(t)||(z.add(t),t())}q.length=0}while(C.length);for(;E.length;)E.pop()();N=!1,P=!1,z.clear()}}function F(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}const W=new Set;let V;function U(){V={r:0,c:[],p:V}}function X(){V.r||l(V.c),V=V.p}function B(e,t){e&&e.i&&(W.delete(e),e.i(t))}function H(e,t,n,l){if(e&&e.o){if(W.has(e))return;W.add(e),V.c.push(()=>{W.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}function G(e,t){H(e,1,1,()=>{t.delete(e.key)})}function J(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function Q(e){e&&e.c()}function Y(e,n,o){const{fragment:r,on_mount:s,on_destroy:c,after_update:u}=e.$$;r&&r.m(n,o),A(()=>{const n=s.map(t).filter(i);c?c.push(...n):l(n),e.$$.on_mount=[]}),u.forEach(A)}function K(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t){-1===e.$$.dirty[0]&&(C.push(e),N||(N=!0,T.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(t,i,o,r,s,c,u=[-1]){const a=R;D(t);const d=i.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let m=!1;if(p.ctx=o?o(t,d,(e,n,...l)=>{const i=l.length?l[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),m&&Z(t,e)),n}):[],p.update(),m=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();i.intro&&B(t.$$.fragment),Y(t,i.target,i.anchor),j()}D(a)}class te{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ne=[];function le(e,t){return{subscribe:ie(e,t).subscribe}}function ie(t,n=e){let l;const i=[];function r(e){if(o(t,e)&&(t=e,l)){const e=!ne.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ne.push(n,t)}if(e){for(let e=0;e<ne.length;e+=2)ne[e][0](ne[e+1]);ne.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(o,s=e){const c=[o,s];return i.push(c),1===i.length&&(l=n(r)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(l(),l=null)}}}}function oe(t,n,o){const s=!Array.isArray(t),c=s?[t]:t,u=n.length<2;return le(o,t=>{let o=!1;const a=[];let d=0,f=e;const p=()=>{if(d)return;f();const l=n(s?a[0]:a,t);u?t(l):f=i(l)?l:e},m=c.map((e,t)=>r(e,e=>{a[t]=e,d&=~(1<<t),o&&p()},()=>{d|=1<<t}));return o=!0,p(),function(){l(m),f()}})}const re=["Quest","Training"],se={content:"Add some TODOs! :)",date:new Date,type:0,skillReq:{skill:-1,level:0},skillReward:{skill:-1,level:0},xpReward:0,timeLimit:0,completed:!1,expired:!1,sentExpireWarning:!1},ce={name:"Guitar",level:0},ue={modalOpen:!1,separateDisplay:!1,viewCompleted:!1,questsFirst:!0,nightMode:!1,searchString:""};function ae(e){return e=new Date(e),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(e)}const de=36e5,fe=864e5;function pe(e){if(e<6e4)return{en:"less than 1 minute",ro:"mai puțin de 1 minut"};if(e<de){let t=Math.floor(e/6e4);return{en:`${t} minute${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} minut${t>1?"e":""}`}}if(e<fe){let t=Math.floor(e/de);return{en:`${t} hour${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} or${t>1?"e":"ă"}`}}let t=Math.floor(e/fe);return{en:`${t} day${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} zi${t>1?"le":""}`}}function me(e,t){const n=pe(t-(e=new Date(e)));return{en:n.en+" ago",ro:"acum "+n.ro}}function ge(e){return parseInt(e).toString()===e.toString()}function he(e,t,n){let l,i=[...e];return l={...i[t]},i[t]={...i[n]},i[n]={...l},i}function $e(e){return function(t){const n=window.localStorage.getItem(e);n&&t(JSON.parse(n))}}const ve=(()=>{const{subscribe:e,update:t}=ie([],$e("skillList"));return{subscribe:e,add:e=>{t(t=>[...t,{...ce,...e}])},reward:(e,n)=>{t(t=>{let l=[...t];return l[e].level=parseInt(l[e].level)+parseInt(n),l})}}})(),xe={listLimitError:{ro:"Ați atins capătul listei!",en:"List limit reached!"},content:{ro:"Conținut",en:"Content"},save:{ro:"Salvează",en:"Save"},add:{ro:"Adaugă",en:"Add"},none:{ro:"Niciunul",en:"None"},shortTime:{ro:"rămas(e) pentru",en:"left for"},expiredTime:{ro:"Timpul a expirat pentru",en:"Time has run out for"},viewMixed:{ro:"Afișare mixtă",en:"View mixed"},viewSeparate:{ro:"Afișare separată",en:"View separate"},skills:{ro:"Abilități",en:"Skills"},viewCompleted:{ro:"Vezi completate",en:"View completed"},hideCompleted:{ro:"Ascunde completate",en:"Hide completed"},search:{ro:"Căutare",en:"Search"},submit:{ro:"Aplică",en:"Submit"},skillRequirement:{ro:"Cerință abilitate",en:"Skill Requirement"},skillReward:{ro:"Recompensă abilitate",en:"Skill Reward"},xpReward:{ro:"Recompensă XP",en:"XP Reward"},timeLimit:{ro:"Limită de timp",en:"Time Limit"}},we=(()=>{const{subscribe:e,update:t}=ie("en",$e("language"));return{subscribe:e,toggle:()=>{t(e=>"ro"===e?"en":"ro")}}})(),be=oe(we,e=>{let t={};for(let n in xe)t[n]=xe[n][e];return t});function ke(t){let n,i,o,r,s,c,u,p,$=t[2].add+"";return{c(){n=m("form"),i=m("input"),r=h(),s=m("button"),c=g($),b(i,"placeholder",o=t[2].name),b(i,"class","svelte-e99vda"),b(s,"type","submit"),b(n,"class","svelte-e99vda")},m(e,l){d(e,n,l),a(n,i),y(i,t[0]),t[5](i),a(n,r),a(n,s),a(s,c),u||(p=[v(i,"input",t[4]),v(n,"submit",x(t[3]))],u=!0)},p(e,[t]){4&t&&o!==(o=e[2].name)&&b(i,"placeholder",o),1&t&&i.value!==e[0]&&y(i,e[0]),4&t&&$!==($=e[2].add+"")&&k(c,$)},i:e,o:e,d(e){e&&f(n),t[5](null),u=!1,l(p)}}}function ye(e,t,n){let l;c(e,be,e=>n(2,l=e));let i,o="";return[o,i,l,function(){i.focus(),""!==o&&(ve.add({name:o}),n(0,o=""))},function(){o=this.value,n(0,o)},function(e){_[e?"unshift":"push"](()=>{i=e,n(1,i)})}]}class Ie extends te{constructor(e){super(),ee(this,e,ye,ke,o,{})}}function Me(e,t,n){const l=e.slice();return l[1]=t[n].name,l[2]=t[n].level,l}function Re(e){let t,n,l,i,o,r,s=e[1]+"",c=e[2]+"";return{c(){t=m("li"),n=m("b"),l=g(s),i=h(),o=m("i"),r=g(c)},m(e,s){d(e,t,s),a(t,n),a(n,l),a(t,i),a(t,o),a(o,r)},p(e,t){1&t&&s!==(s=e[1]+"")&&k(l,s),1&t&&c!==(c=e[2]+"")&&k(r,c)},d(e){e&&f(t)}}}function De(e){let t,n,l,i,o,r=e[0],s=[];for(let t=0;t<r.length;t+=1)s[t]=Re(Me(e,r,t));return i=new Ie({}),{c(){t=m("div"),n=m("ul");for(let e=0;e<s.length;e+=1)s[e].c();l=h(),Q(i.$$.fragment)},m(e,r){d(e,t,r),a(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);a(t,l),Y(i,t,null),o=!0},p(e,[t]){if(1&t){let l;for(r=e[0],l=0;l<r.length;l+=1){const i=Me(e,r,l);s[l]?s[l].p(i,t):(s[l]=Re(i),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length}},i(e){o||(B(i.$$.fragment,e),o=!0)},o(e){H(i.$$.fragment,e),o=!1},d(e){e&&f(t),p(s,e),K(i)}}}function Le(e,t,n){let l;return c(e,ve,e=>n(0,l=e)),[l]}class Se extends te{constructor(e){super(),ee(this,e,Le,De,o,{})}}function Ce(e){let t,n,o,r,s,c,u,p,g;return c=new Se({}),{c(){t=m("div"),n=m("div"),o=m("button"),o.textContent="×",r=h(),s=m("div"),Q(c.$$.fragment),b(o,"id","close-button"),b(o,"class","svelte-29f9v0"),b(s,"class","modal-content svelte-29f9v0"),b(n,"class","modal svelte-29f9v0"),b(t,"class","modal-bg svelte-29f9v0")},m(l,f){d(l,t,f),a(t,n),a(n,o),a(n,r),a(n,s),Y(c,s,null),u=!0,p||(g=[v(o,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),v(n,"click",qe),v(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)}))],p=!0)},p(t,n){e=t},i(e){u||(B(c.$$.fragment,e),u=!0)},o(e){H(c.$$.fragment,e),u=!1},d(e){e&&f(t),K(c),p=!1,l(g)}}}function _e(e){let t,n,l=e[0]&&Ce(e);return{c(){l&&l.c(),t=$()},m(e,i){l&&l.m(e,i),d(e,t,i),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&B(l,1)):(l=Ce(e),l.c(),B(l,1),l.m(t.parentNode,t)):l&&(U(),H(l,1,1,()=>{l=null}),X())},i(e){n||(B(l),n=!0)},o(e){H(l),n=!1},d(e){l&&l.d(e),e&&f(t)}}}const qe=e=>e.stopPropagation();function Ee(e,t,n){let{open:l}=t,{toggleSkillModal:i}=t;return e.$$set=e=>{"open"in e&&n(0,l=e.open),"toggleSkillModal"in e&&n(1,i=e.toggleSkillModal)},[l,i]}class Te extends te{constructor(e){super(),ee(this,e,Ee,_e,o,{open:0,toggleSkillModal:1})}}const Ne=(()=>{const{subscribe:e,update:t,set:n}=ie(ue,$e("display"));return{subscribe:e,setMixedDisplay:()=>{t(e=>({...e,separateDisplay:!1}))},setSeparateDisplay:()=>{t(e=>({...e,separateDisplay:!0}))},listSearchResults:e=>{t(t=>({...t,searchString:e}))},toggleModal:()=>{t(e=>({...e,modalOpen:!e.modalOpen}))},toggleViewCompleted:()=>{t(e=>({...e,viewCompleted:!e.viewCompleted}))},toggleNightMode:()=>{t(e=>({...e,nightMode:!e.nightMode}))}}})(),Ae=(()=>{const{subscribe:e,update:t,set:n}=ie([],$e("notifications"));return{subscribe:e,clear:()=>n([]),add:e=>t(t=>[...t,{...e}])}})(),Oe=(()=>{const{subscribe:e,update:t}=ie(0,$e("xp"));return{subscribe:e,reward:e=>{t(t=>parseInt(t)+parseInt(e))}}})(),Pe=function(){const{subscribe:e,update:t}=ie([],$e("todoList"));return{subscribe:e,add:e=>{t(t=>[...t,{...se,...e}])},remove:e=>{t(t=>{let n=[...t];return n.splice(e,1),n})},edit:(e,n)=>{t(t=>{let l=[...t];return l[e]={...l[e],...n},l})},complete:e=>{t(t=>{let n=[...t];if(n[e].expired)throw"todoExpired";const l=s(ve);if(-1!==n[e].skillReq.skill&&n[e].skillReq.level>l[n[e].skillReq.skill].level)throw"skillInsufficient";return Oe.reward(n[e].xpReward),-1!==n[e].skillReward.skill&&ve.reward(n[e].skillReward.skill,n[e].skillReward.level),n[e]={...n[e],completed:!0},n})},uncomplete:e=>{t(t=>{let n=[...t];return n[e]={...n[e],completed:!1},n})},expire:e=>{t(t=>{let n=[...t];return n[e]={...n[e],expired:!0},n})},hasSentExpiredWarning:e=>{t(t=>{let n=[...t];return n[e]={...n[e],sentExpireWarning:!0},n})},switchPlaces:(e,n,l)=>{let i;return t(t=>{const o=-1===n?-1:t.length;for(let r=e+n;r!=o;r+=n)if(l(t[r])===l(t[e]))return i=r,he(t,e,r);throw"listLimitError"}),i}}}();function ze(t){let n,l,i;return{c(){n=m("button"),n.textContent="×"},m(e,o){d(e,n,o),l||(i=v(n,"click",t[0]),l=!0)},p:e,i:e,o:e,d(e){e&&f(n),l=!1,i()}}}function je(e,t,n){let{index:l}=t;return e.$$set=e=>{"index"in e&&n(1,l=e.index)},[()=>{Pe.remove(l)},l]}class Fe extends te{constructor(e){super(),ee(this,e,je,ze,o,{index:1})}}function We(e,t,n){const l=e.slice();return l[4]=t[n],l[6]=n,l}function Ve(t){let n,l,i,o=t[4]+"";return{c(){n=m("option"),l=g(o),n.__value=i=t[6],n.value=n.__value},m(e,t){d(e,n,t),a(n,l)},p:e,d(e){e&&f(n)}}}function Ue(e){let t,n=(-1!==e[1]&&e[1]===e[6]||!e[2].separateDisplay||-1===e[1])&&Ve(e);return{c(){n&&n.c(),t=$()},m(e,l){n&&n.m(e,l),d(e,t,l)},p(e,l){-1!==e[1]&&e[1]===e[6]||!e[2].separateDisplay||-1===e[1]?n?n.p(e,l):(n=Ve(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&f(t)}}}function Xe(t){let n,l,i,o=re,r=[];for(let e=0;e<o.length;e+=1)r[e]=Ue(We(t,o,e));return{c(){n=m("select");for(let e=0;e<r.length;e+=1)r[e].c();void 0===t[0]&&A(()=>t[3].call(n))},m(e,o){d(e,n,o);for(let e=0;e<r.length;e+=1)r[e].m(n,null);I(n,t[0]),l||(i=v(n,"change",t[3]),l=!0)},p(e,[t]){if(6&t){let l;for(o=re,l=0;l<o.length;l+=1){const i=We(e,o,l);r[l]?r[l].p(i,t):(r[l]=Ue(i),r[l].c(),r[l].m(n,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}1&t&&I(n,e[0])},i:e,o:e,d(e){e&&f(n),p(r,e),l=!1,i()}}}function Be(e,t,n){let l;c(e,Ne,e=>n(2,l=e));let{value:i}=t,{todoListIndex:o=-1}=t;return e.$$set=e=>{"value"in e&&n(0,i=e.value),"todoListIndex"in e&&n(1,o=e.todoListIndex)},[i,o,l,function(){i=M(this),n(0,i)}]}class He extends te{constructor(e){super(),ee(this,e,Be,Xe,o,{value:0,todoListIndex:1})}}function Ge(e){let t,n,i,o,r,s,c,u,p,h,$,w,I=e[4].add+"";function M(t){e[8].call(null,t)}let R={todoListIndex:e[0]};return void 0!==e[3]&&(R.value=e[3]),r=new He({props:R}),_.push(()=>J(r,"value",M)),{c(){t=m("form"),n=m("input"),o=g(" \r\n    "),Q(r.$$.fragment),c=g(" \r\n  "),u=m("button"),p=g(I),b(n,"placeholder",i=e[4].content),b(n,"class","svelte-zxzugk"),b(u,"type","submit"),b(t,"class","svelte-zxzugk")},m(l,i){d(l,t,i),a(t,n),y(n,e[1]),e[7](n),a(t,o),Y(r,t,null),a(t,c),a(t,u),a(u,p),h=!0,$||(w=[v(n,"input",e[6]),v(t,"submit",x(e[5]))],$=!0)},p(e,[t]){(!h||16&t&&i!==(i=e[4].content))&&b(n,"placeholder",i),2&t&&n.value!==e[1]&&y(n,e[1]);const l={};1&t&&(l.todoListIndex=e[0]),!s&&8&t&&(s=!0,l.value=e[3],O(()=>s=!1)),r.$set(l),(!h||16&t)&&I!==(I=e[4].add+"")&&k(p,I)},i(e){h||(B(r.$$.fragment,e),h=!0)},o(e){H(r.$$.fragment,e),h=!1},d(n){n&&f(t),e[7](null),K(r),$=!1,l(w)}}}function Je(e,t,n){let l;c(e,be,e=>n(4,l=e));let i,o,r="",{todoListIndex:s}=t;return e.$$set=e=>{"todoListIndex"in e&&n(0,s=e.todoListIndex)},[s,r,i,o,l,()=>{i.focus(),""!==r&&(Pe.add({content:r,date:new Date,type:o}),n(1,r=""))},function(){r=this.value,n(1,r)},function(e){_[e?"unshift":"push"](()=>{i=e,n(2,i)})},function(e){o=e,n(3,o)}]}class Qe extends te{constructor(e){super(),ee(this,e,Je,Ge,o,{todoListIndex:0})}}function Ye(t){let n,l,i,o;return{c(){n=m("button"),l=g(t[0])},m(e,r){d(e,n,r),a(n,l),i||(o=v(n,"click",w(t[1])),i=!0)},p(e,[t]){1&t&&k(l,e[0])},i:e,o:e,d(e){e&&f(n),i=!1,o()}}}function Ke(e,t,n){let l;c(e,be,e=>n(6,l=e));let{text:i}=t,{diff:o}=t,{index:r}=t,{filter:s}=t,{focusNewPos:u}=t;return e.$$set=e=>{"text"in e&&n(0,i=e.text),"diff"in e&&n(2,o=e.diff),"index"in e&&n(3,r=e.index),"filter"in e&&n(4,s=e.filter),"focusNewPos"in e&&n(5,u=e.focusNewPos)},[i,e=>{try{e.target.blur();const t=Pe.switchPlaces(r,o,s);u(t)}catch(e){alert(l[e])}},o,r,s,u]}class Ze extends te{constructor(e){super(),ee(this,e,Ke,Ye,o,{text:0,diff:2,index:3,filter:4,focusNewPos:5})}}function et(e,t,n){const l=e.slice();return l[4]=t[n].name,l[6]=n,l}function tt(e){let t,n,l,i=e[4]+"";return{c(){t=m("option"),n=g(i),t.__value=l=e[6],t.value=t.__value},m(e,l){d(e,t,l),a(t,n)},p(e,t){4&t&&i!==(i=e[4]+"")&&k(n,i)},d(e){e&&f(t)}}}function nt(t){let n,l,i,o,r,s,c=t[1].none+"",u=t[2],h=[];for(let e=0;e<u.length;e+=1)h[e]=tt(et(t,u,e));return{c(){n=m("select"),l=m("option"),i=g(c);for(let e=0;e<h.length;e+=1)h[e].c();l.__value=o=-1,l.value=l.__value,void 0===t[0]&&A(()=>t[3].call(n))},m(e,o){d(e,n,o),a(n,l),a(l,i);for(let e=0;e<h.length;e+=1)h[e].m(n,null);I(n,t[0]),r||(s=v(n,"change",t[3]),r=!0)},p(e,[t]){if(2&t&&c!==(c=e[1].none+"")&&k(i,c),4&t){let l;for(u=e[2],l=0;l<u.length;l+=1){const i=et(e,u,l);h[l]?h[l].p(i,t):(h[l]=tt(i),h[l].c(),h[l].m(n,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=u.length}1&t&&I(n,e[0])},i:e,o:e,d(e){e&&f(n),p(h,e),r=!1,s()}}}function lt(e,t,n){let l,i;c(e,be,e=>n(1,l=e)),c(e,ve,e=>n(2,i=e));let{value:o}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,l,i,function(){o=M(this),n(0,o)}]}class it extends te{constructor(e){super(),ee(this,e,lt,nt,o,{value:0})}}function ot(e,t,n){const l=e.slice();return l[0]=t[n],l}function rt(e,t,n){const l=e.slice();return l[13]=t[n],l}function st(e,t,n){const l=e.slice();return l[18]=t[n],l}function ct(t){let n,l,i=t[18]+"";return{c(){n=m("th"),l=g(i)},m(e,t){d(e,n,t),a(n,l)},p:e,d(e){e&&f(n)}}}function ut(e){let t,n,l,i,o,r=e[0].getDate()+"";function s(...t){return e[11](e[0],...t)}return{c(){t=m("td"),n=g(r),b(t,"class",l=u(`${e[0].getMonth()===e[1]?"current-month":""} ${e[0].getDate()===(new Date).getDate()&&e[0].getMonth()===(new Date).getMonth()?"today":""}`)+" svelte-xezyo0")},m(e,l){d(e,t,l),a(t,n),i||(o=v(t,"click",s),i=!0)},p(i,o){e=i,8&o&&r!==(r=e[0].getDate()+"")&&k(n,r),10&o&&l!==(l=u(`${e[0].getMonth()===e[1]?"current-month":""} ${e[0].getDate()===(new Date).getDate()&&e[0].getMonth()===(new Date).getMonth()?"today":""}`)+" svelte-xezyo0")&&b(t,"class",l)},d(e){e&&f(t),i=!1,o()}}}function at(e){let t,n,l=e[13],i=[];for(let t=0;t<l.length;t+=1)i[t]=ut(ot(e,l,t));return{c(){t=m("tr");for(let e=0;e<i.length;e+=1)i[e].c();n=h()},m(e,l){d(e,t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);a(t,n)},p(e,o){if(74&o){let r;for(l=e[13],r=0;r<l.length;r+=1){const s=ot(e,l,r);i[r]?i[r].p(s,o):(i[r]=ut(s),i[r].c(),i[r].m(t,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}},d(e){e&&f(t),p(i,e)}}}function dt(t){let n,i,o,r,s,c,u,$,w,y,I,M,R,D,L,S,C=t[4][t[1]]+"",_=t[5],q=[];for(let e=0;e<_.length;e+=1)q[e]=ct(st(t,_,e));let E=t[3],T=[];for(let e=0;e<E.length;e+=1)T[e]=at(rt(t,E,e));return{c(){n=m("div"),i=m("div"),o=m("button"),o.textContent="<",r=h(),s=m("b"),c=g(C),u=h(),$=g(t[2]),w=h(),y=m("button"),y.textContent=">",I=h(),M=m("table"),R=m("tr");for(let e=0;e<q.length;e+=1)q[e].c();D=h();for(let e=0;e<T.length;e+=1)T[e].c();b(i,"class","header"),b(n,"class","calendar")},m(e,l){d(e,n,l),a(n,i),a(i,o),a(i,r),a(i,s),a(s,c),a(s,u),a(s,$),a(i,w),a(i,y),a(n,I),a(n,M),a(M,R);for(let e=0;e<q.length;e+=1)q[e].m(R,null);a(M,D);for(let e=0;e<T.length;e+=1)T[e].m(M,null);L||(S=[v(o,"click",x(t[7])),v(y,"click",x(t[8]))],L=!0)},p(e,[t]){if(2&t&&C!==(C=e[4][e[1]]+"")&&k(c,C),4&t&&k($,e[2]),32&t){let n;for(_=e[5],n=0;n<_.length;n+=1){const l=st(e,_,n);q[n]?q[n].p(l,t):(q[n]=ct(l),q[n].c(),q[n].m(R,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=_.length}if(74&t){let n;for(E=e[3],n=0;n<E.length;n+=1){const l=rt(e,E,n);T[n]?T[n].p(l,t):(T[n]=at(l),T[n].c(),T[n].m(M,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}},i:e,o:e,d(e){e&&f(n),p(q,e),p(T,e),L=!1,l(S)}}}const ft=864e5;function pt(e,t,n){let{value:l}=t,{closeCalendar:i}=t,{date:o=new Date}=t;let r,s,c;function u(e){n(1,r=e.getMonth()),n(2,s=e.getFullYear()),n(3,c=function(e){let t=new Array([],[],[],[],[],[]),n=new Date(e);n.setDate(1);const l=n.getDay();n-=l*ft;for(let e=0;e<42;e++)t[Math.floor(e/7)][e%7]=new Date(n),n+=ft;return t}(e))}function a(e){n(9,l=e),i()}u(o);return e.$$set=e=>{"value"in e&&n(9,l=e.value),"closeCalendar"in e&&n(10,i=e.closeCalendar),"date"in e&&n(0,o=e.date)},[o,r,s,c,["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],["Su","Mo","Tu","We","Th","Fr","Sa"],a,function(){o.setMonth(o.getMonth()-1),u(o)},function(){o.setMonth(o.getMonth()+1),u(o)},l,i,e=>a(e)]}class mt extends te{constructor(e){super(),ee(this,e,pt,dt,o,{value:9,closeCalendar:10,date:0})}}function gt(e){let t,n,o,r,s,c,p,$,I,M,R,D,L,S,C,q,E,T,N=new Intl.DateTimeFormat("en-US").format(e[1])+"";function A(t){e[9].call(null,t)}let P={closeCalendar:e[5]};return void 0!==e[1]&&(P.value=e[1]),$=new mt({props:P}),_.push(()=>J($,"value",A)),{c(){t=m("span"),n=g(N),o=h(),r=m("div"),s=m("button"),s.textContent="Calendar",c=h(),p=m("div"),Q($.$$.fragment),R=h(),D=m("input"),L=g("\r\n    :\r\n    "),S=m("input"),b(s,"id","calendar-button"),b(p,"class",M=u("calendar-box "+(e[0]?"open":"closed"))+" svelte-1esx3eq"),b(D,"maxlength","2"),b(D,"class","svelte-1esx3eq"),b(S,"maxlength","2"),b(S,"class","svelte-1esx3eq"),b(r,"class","hour-inputs svelte-1esx3eq"),b(t,"class",C=u("time-input-container")+" svelte-1esx3eq")},m(l,u){d(l,t,u),a(t,n),a(t,o),a(t,r),a(r,s),a(r,c),a(r,p),Y($,p,null),a(r,R),a(r,D),y(D,e[2]),a(r,L),a(r,S),y(S,e[3]),q=!0,E||(T=[v(s,"click",w(x((function(){i(e[0]?e[5]:e[4])&&(e[0]?e[5]:e[4]).apply(this,arguments)})))),v(p,"click",w(e[8])),v(D,"input",e[10]),v(S,"input",e[11])],E=!0)},p(t,[l]){e=t,(!q||2&l)&&N!==(N=new Intl.DateTimeFormat("en-US").format(e[1])+"")&&k(n,N);const i={};!I&&2&l&&(I=!0,i.value=e[1],O(()=>I=!1)),$.$set(i),(!q||1&l&&M!==(M=u("calendar-box "+(e[0]?"open":"closed"))+" svelte-1esx3eq"))&&b(p,"class",M),4&l&&D.value!==e[2]&&y(D,e[2]),8&l&&S.value!==e[3]&&y(S,e[3])},i(e){q||(B($.$$.fragment,e),q=!0)},o(e){H($.$$.fragment,e),q=!1},d(e){e&&f(t),K($),E=!1,l(T)}}}function ht(e,t,n){let{value:l}=t,{startDate:i}=t,o=new Date(new Date(i).valueOf()+l),r=!1,s=new Date(o);function c(){n(0,r=!1),document.removeEventListener("click",c,!0)}let u=o.getHours(),a=o.getMinutes();return parseInt(u)<10&&(u="0"+u),parseInt(a)<10&&(a="0"+a),e.$$set=e=>{"value"in e&&n(6,l=e.value),"startDate"in e&&n(7,i=e.startDate)},e.$$.update=()=>{4238&e.$$.dirty&&(n(12,o=new Date(s)),o.setHours(u),o.setMinutes(a),n(6,l=o-i))},[r,s,u,a,function(){n(0,r=!0),document.addEventListener("click",c)},c,l,i,function(t){S(e,t)},function(e){s=e,n(1,s)},function(){u=this.value,n(2,u)},function(){a=this.value,n(3,a)}]}class $t extends te{constructor(e){super(),ee(this,e,ht,gt,o,{value:6,startDate:7})}}function vt(e){let t,n,l,i,o,r,s,c,u,p,$=e[1].skillReward+"";function v(t){e[5].call(null,t)}let x={};void 0!==e[0].skillReward.skill&&(x.value=e[0].skillReward.skill),s=new it({props:x}),_.push(()=>J(s,"value",v));let w=-1!==e[0].skillReward.skill&&wt(e);return{c(){t=m("tr"),n=m("td"),l=g($),i=h(),o=m("td"),r=m("div"),Q(s.$$.fragment),u=h(),w&&w.c(),b(r,"class","right-column svelte-1vuvfv5")},m(e,c){d(e,t,c),a(t,n),a(n,l),a(t,i),a(t,o),a(o,r),Y(s,r,null),a(r,u),w&&w.m(r,null),p=!0},p(e,t){(!p||2&t)&&$!==($=e[1].skillReward+"")&&k(l,$);const n={};!c&&1&t&&(c=!0,n.value=e[0].skillReward.skill,O(()=>c=!1)),s.$set(n),-1!==e[0].skillReward.skill?w?w.p(e,t):(w=wt(e),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i(e){p||(B(s.$$.fragment,e),p=!0)},o(e){H(s.$$.fragment,e),p=!1},d(e){e&&f(t),K(s),w&&w.d()}}}function xt(e){let t,n,l,i,o,r,s,c,u,p,$,x,w,I,M,R,D,L,S,C,q,E,T=e[1].skillRequirement+"",N=e[1].xpReward+"";function A(t){e[2].call(null,t)}let P={};void 0!==e[0].skillReq.skill&&(P.value=e[0].skillReq.skill),s=new it({props:P}),_.push(()=>J(s,"value",A));let z=-1!==e[0].skillReq.skill&&bt(e);return{c(){t=m("tr"),n=m("td"),l=g(T),i=h(),o=m("td"),r=m("div"),Q(s.$$.fragment),u=h(),z&&z.c(),p=h(),$=m("tr"),x=m("td"),w=g(N),I=h(),M=m("td"),R=m("div"),D=m("input"),L=h(),S=m("div"),b(r,"class","right-column svelte-1vuvfv5"),b(D,"class","svelte-1vuvfv5"),b(S,"class","right-column svelte-1vuvfv5"),b(R,"class","right-column svelte-1vuvfv5")},m(c,f){d(c,t,f),a(t,n),a(n,l),a(t,i),a(t,o),a(o,r),Y(s,r,null),a(r,u),z&&z.m(r,null),d(c,p,f),d(c,$,f),a($,x),a(x,w),a($,I),a($,M),a(M,R),a(R,D),y(D,e[0].xpReward),a(R,L),a(R,S),C=!0,q||(E=v(D,"input",e[4]),q=!0)},p(e,t){(!C||2&t)&&T!==(T=e[1].skillRequirement+"")&&k(l,T);const n={};!c&&1&t&&(c=!0,n.value=e[0].skillReq.skill,O(()=>c=!1)),s.$set(n),-1!==e[0].skillReq.skill?z?z.p(e,t):(z=bt(e),z.c(),z.m(r,null)):z&&(z.d(1),z=null),(!C||2&t)&&N!==(N=e[1].xpReward+"")&&k(w,N),1&t&&D.value!==e[0].xpReward&&y(D,e[0].xpReward)},i(e){C||(B(s.$$.fragment,e),C=!0)},o(e){H(s.$$.fragment,e),C=!1},d(e){e&&f(t),K(s),z&&z.d(),e&&f(p),e&&f($),q=!1,E()}}}function wt(e){let t,n,l;return{c(){t=m("input"),b(t,"class","svelte-1vuvfv5")},m(i,o){d(i,t,o),y(t,e[0].skillReward.level),n||(l=v(t,"input",e[6]),n=!0)},p(e,n){1&n&&t.value!==e[0].skillReward.level&&y(t,e[0].skillReward.level)},d(e){e&&f(t),n=!1,l()}}}function bt(e){let t,n,l;return{c(){t=m("input"),b(t,"class","svelte-1vuvfv5")},m(i,o){d(i,t,o),y(t,e[0].skillReq.level),n||(l=v(t,"input",e[3]),n=!0)},p(e,n){1&n&&t.value!==e[0].skillReq.level&&y(t,e[0].skillReq.level)},d(e){e&&f(t),n=!1,l()}}}function kt(e){let t,n,l,i,o,r,s,c,u,p,$,v,x,w=e[1].timeLimit+"";const y=[xt,vt],I=[];function M(e,t){return"Quest"===re[e[0].type]?0:"Training"===re[e[0].type]?1:-1}function R(t){e[7].call(null,t)}~(n=M(e))&&(l=I[n]=y[n](e));let D={startDate:new Date(e[0].date)};return void 0!==e[0].timeLimit&&(D.value=e[0].timeLimit),$=new $t({props:D}),_.push(()=>J($,"value",R)),{c(){t=m("table"),l&&l.c(),i=h(),o=m("tr"),r=m("td"),s=g(w),c=h(),u=m("td"),p=m("div"),Q($.$$.fragment),b(p,"class","right-column svelte-1vuvfv5"),b(t,"class","svelte-1vuvfv5")},m(e,l){d(e,t,l),~n&&I[n].m(t,null),a(t,i),a(t,o),a(o,r),a(r,s),a(o,c),a(o,u),a(u,p),Y($,p,null),x=!0},p(e,[o]){let r=n;n=M(e),n===r?~n&&I[n].p(e,o):(l&&(U(),H(I[r],1,1,()=>{I[r]=null}),X()),~n?(l=I[n],l||(l=I[n]=y[n](e),l.c()),B(l,1),l.m(t,i)):l=null),(!x||2&o)&&w!==(w=e[1].timeLimit+"")&&k(s,w);const c={};1&o&&(c.startDate=new Date(e[0].date)),!v&&1&o&&(v=!0,c.value=e[0].timeLimit,O(()=>v=!1)),$.$set(c)},i(e){x||(B(l),B($.$$.fragment,e),x=!0)},o(e){H(l),H($.$$.fragment,e),x=!1},d(e){e&&f(t),~n&&I[n].d(),K($)}}}function yt(e,t,n){let l;c(e,be,e=>n(1,l=e));let{editedItem:i}=t;return e.$$set=e=>{"editedItem"in e&&n(0,i=e.editedItem)},[i,l,function(e){i.skillReq.skill=e,n(0,i)},function(){i.skillReq.level=this.value,n(0,i)},function(){i.xpReward=this.value,n(0,i)},function(e){i.skillReward.skill=e,n(0,i)},function(){i.skillReward.level=this.value,n(0,i)},function(e){i.timeLimit=e,n(0,i)}]}class It extends te{constructor(e){super(),ee(this,e,yt,kt,o,{editedItem:0})}}function Mt(e){let t,n,i,o,r,s,c,u,p,$,w,I,M,R,D,L,S=e[2].save+"";function C(t){e[9].call(null,t)}let q={};function E(t){e[10].call(null,t)}void 0!==e[0].type&&(q.value=e[0].type),r=new He({props:q}),_.push(()=>J(r,"value",C));let T={};return void 0!==e[0]&&(T.editedItem=e[0]),I=new It({props:T}),_.push(()=>J(I,"editedItem",E)),{c(){var e,l,s;t=m("form"),n=m("div"),i=m("input"),o=h(),Q(r.$$.fragment),c=h(),u=m("button"),p=g(S),$=h(),w=m("div"),Q(I.$$.fragment),b(i,"class","svelte-gwqplq"),e="display",l="flex",n.style.setProperty(e,l,s?"important":"")},m(l,s){d(l,t,s),a(t,n),a(n,i),y(i,e[0].content),e[8](i),a(n,o),Y(r,n,null),a(n,c),a(n,u),a(u,p),a(t,$),a(t,w),Y(I,w,null),R=!0,D||(L=[v(i,"input",e[7]),v(t,"submit",x(e[3]))],D=!0)},p(e,[t]){1&t&&i.value!==e[0].content&&y(i,e[0].content);const n={};!s&&1&t&&(s=!0,n.value=e[0].type,O(()=>s=!1)),r.$set(n),(!R||4&t)&&S!==(S=e[2].save+"")&&k(p,S);const l={};!M&&1&t&&(M=!0,l.editedItem=e[0],O(()=>M=!1)),I.$set(l)},i(e){R||(B(r.$$.fragment,e),B(I.$$.fragment,e),R=!0)},o(e){H(r.$$.fragment,e),H(I.$$.fragment,e),R=!1},d(n){n&&f(t),e[8](null),K(r),K(I),D=!1,l(L)}}}function Rt(e,t,n){let l;c(e,be,e=>n(2,l=e));let i,{initialItem:o}=t,{handleTodoEditSave:r}=t,{index:s}=t,u={...o};return L(()=>{i.focus()}),e.$$set=e=>{"initialItem"in e&&n(4,o=e.initialItem),"handleTodoEditSave"in e&&n(5,r=e.handleTodoEditSave),"index"in e&&n(6,s=e.index)},[u,i,l,function(){var e;(ge((e=u).xpReward)?ge(e.timeLimit)||(alert("TIME LIMIT NOT A NUMBER"),0):(alert("XP REWARD NOT A NUMBER"),0))&&r(s,u)},o,r,s,function(){u.content=this.value,n(0,u)},function(e){_[e?"unshift":"push"](()=>{i=e,n(1,i)})},function(e){u.type=e,n(0,u)},function(e){u=e,n(0,u)}]}class Dt extends te{constructor(e){super(),ee(this,e,Rt,Mt,o,{initialItem:4,handleTodoEditSave:5,index:6})}}const Lt=le(new Date,(function(e){const t=setInterval(()=>{console.log("trying");const t=new Date;e(t),s(Pe).forEach((e,n)=>{if(0!==e.timeLimit){let l=new Date(e.date).valueOf(),i=parseInt(e.timeLimit),o=l+Math.floor(3*i/4),r=l+i-t;t>o&&!e.sentExpireWarning&&(Pe.hasSentExpiredWarning(n),Ae.add({message:"shortTime",timeLeft:r,todoIndex:n,todoContent:e.content,date:new Date})),r<0&&!e.expired&&(Pe.expire(n),Ae.add({message:"expiredTime",timeLeft:0,todoIndex:n,todoContent:e.content,date:new Date}))}})},6e4);return function(){clearInterval(t)}}));function St(e,t,n){const l=e.slice();return l[18]=t[n],l[20]=n,l}function Ct(e){let t,n,i,o,r,s,c,u,p,$,x,y,I,M,R,D,L,S,C,_,q,E,T,N,A,O=0===e[18].type?"!":"#",P=e[18].content+"",z=me(e[18].date,e[7])[e[8]]+"";function j(...t){return e[14](e[18],...t)}function F(...t){return e[15](e[18],...t)}return S=new Ze({props:{focusNewPos:e[11],index:e[18].sourceIndex,filter:e[1],text:"↑",diff:-1}}),_=new Ze({props:{focusNewPos:e[11],index:e[18].sourceIndex,filter:e[1],text:"↓",diff:1}}),E=new Fe({props:{index:e[18].sourceIndex}}),{c(){t=m("input"),o=h(),r=m("span"),s=m("b"),c=g(O),u=h(),p=m("span"),$=g(P),x=h(),y=m("div"),I=m("span"),M=m("abbr"),R=g(z),L=h(),Q(S.$$.fragment),C=h(),Q(_.$$.fragment),q=h(),Q(E.$$.fragment),b(t,"type","checkbox"),t.checked=n=e[5]===e[18].sourceIndex||e[18].completed,t.disabled=i=e[18].completed||e[18].expired,b(r,"class","content svelte-110jsbf"),b(M,"title",D=ae(e[18].date)),b(M,"class","svelte-110jsbf"),b(I,"class","todo-time"),b(y,"class","todo-right")},m(e,n){d(e,t,n),d(e,o,n),d(e,r,n),a(r,s),a(s,c),a(r,u),a(r,p),a(p,$),d(e,x,n),d(e,y,n),a(y,I),a(I,M),a(M,R),a(y,L),Y(S,y,null),a(y,C),Y(_,y,null),a(y,q),Y(E,y,null),T=!0,N||(A=[v(t,"click",w(j)),v(p,"click",w(F))],N=!0)},p(l,o){e=l,(!T||96&o&&n!==(n=e[5]===e[18].sourceIndex||e[18].completed))&&(t.checked=n),(!T||64&o&&i!==(i=e[18].completed||e[18].expired))&&(t.disabled=i),(!T||64&o)&&O!==(O=0===e[18].type?"!":"#")&&k(c,O),(!T||64&o)&&P!==(P=e[18].content+"")&&k($,P),(!T||448&o)&&z!==(z=me(e[18].date,e[7])[e[8]]+"")&&k(R,z),(!T||64&o&&D!==(D=ae(e[18].date)))&&b(M,"title",D);const r={};64&o&&(r.index=e[18].sourceIndex),2&o&&(r.filter=e[1]),S.$set(r);const s={};64&o&&(s.index=e[18].sourceIndex),2&o&&(s.filter=e[1]),_.$set(s);const u={};64&o&&(u.index=e[18].sourceIndex),E.$set(u)},i(e){T||(B(S.$$.fragment,e),B(_.$$.fragment,e),B(E.$$.fragment,e),T=!0)},o(e){H(S.$$.fragment,e),H(_.$$.fragment,e),H(E.$$.fragment,e),T=!1},d(e){e&&f(t),e&&f(o),e&&f(r),e&&f(x),e&&f(y),K(S),K(_),K(E),N=!1,l(A)}}}function _t(e){let t,n,l,i,o;return n=new Dt({props:{handleTodoEditSave:e[10],index:e[18].sourceIndex,initialItem:e[18]}}),{c(){t=m("div"),Q(n.$$.fragment),b(t,"class","todo-editor")},m(r,s){d(r,t,s),Y(n,t,null),l=!0,i||(o=v(t,"click",w(e[13])),i=!0)},p(e,t){const l={};64&t&&(l.index=e[18].sourceIndex),64&t&&(l.initialItem=e[18]),n.$set(l)},i(e){l||(B(n.$$.fragment,e),l=!0)},o(e){H(n.$$.fragment,e),l=!1},d(e){e&&f(t),K(n),i=!1,o()}}}function qt(e,t){let n,l,i,o,r,s,c;const a=[_t,Ct],p=[];function g(e,t){return e[18].sourceIndex===e[3]?0:1}function h(...e){return t[16](t[18],...e)}return l=g(t),i=p[l]=a[l](t),{key:e,first:null,c(){n=m("li"),i.c(),b(n,"class",o=u(`${t[18].sourceIndex===t[4]?"active-todo":"inactive-todo"} ${t[18].expired?"expired":""} ${t[18].sourceIndex===t[5]?"checked":""} ${t[18].sourceIndex===t[3]?"editing":""} ${0===t[18].type?"quest":"training"}`)+" svelte-110jsbf"),this.first=n},m(e,t){d(e,n,t),p[l].m(n,null),r=!0,s||(c=v(n,"click",h),s=!0)},p(e,s){let c=l;l=g(t=e),l===c?p[l].p(t,s):(U(),H(p[c],1,1,()=>{p[c]=null}),X(),i=p[l],i||(i=p[l]=a[l](t),i.c()),B(i,1),i.m(n,null)),(!r||120&s&&o!==(o=u(`${t[18].sourceIndex===t[4]?"active-todo":"inactive-todo"} ${t[18].expired?"expired":""} ${t[18].sourceIndex===t[5]?"checked":""} ${t[18].sourceIndex===t[3]?"editing":""} ${0===t[18].type?"quest":"training"}`)+" svelte-110jsbf"))&&b(n,"class",o)},i(e){r||(B(i),r=!0)},o(e){H(i),r=!1},d(e){e&&f(n),p[l].d(),s=!1,c()}}}function Et(e){let t,n,l,i,o,r=[],s=new Map,c=e[6];const u=e=>e[18].sourceIndex;for(let t=0;t<c.length;t+=1){let n=St(e,c,t),l=u(n);s.set(l,r[t]=qt(l,n))}return i=new Qe({props:{todoListIndex:e[0]}}),{c(){t=m("ul");for(let e=0;e<r.length;e+=1)r[e].c();n=h(),l=m("li"),Q(i.$$.fragment),b(l,"class","svelte-110jsbf"),b(t,"class","todo-list svelte-110jsbf")},m(e,s){d(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);a(t,n),a(t,l),Y(i,l,null),o=!0},p(e,[l]){if(8186&l){const i=e[6];U(),r=function(e,t,n,l,i,o,r,s,c,u,a,d){let f=e.length,p=o.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const h=[],$=new Map,v=new Map;for(m=p;m--;){const e=d(i,o,m),s=n(e);let c=r.get(s);c?l&&c.p(e,t):(c=u(s,e),c.c()),$.set(s,h[m]=c),s in g&&v.set(s,Math.abs(m-g[s]))}const x=new Set,w=new Set;function b(e){B(e,1),e.m(s,a),r.set(e.key,e),a=e.first,p--}for(;f&&p;){const t=h[p-1],n=e[f-1],l=t.key,i=n.key;t===n?(a=t.first,f--,p--):$.has(i)?!r.has(l)||x.has(l)?b(t):w.has(i)?f--:v.get(l)>v.get(i)?(w.add(l),b(t)):(x.add(i),f--):(c(n,r),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,r)}for(;p;)b(h[p-1]);return h}(r,l,u,1,e,i,s,t,G,qt,n,St),X()}const o={};1&l&&(o.todoListIndex=e[0]),i.$set(o)},i(e){if(!o){for(let e=0;e<c.length;e+=1)B(r[e]);B(i.$$.fragment,e),o=!0}},o(e){for(let e=0;e<r.length;e+=1)H(r[e]);H(i.$$.fragment,e),o=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d();K(i)}}}function Tt(t,n,l){let i,o,s,u=e;c(t,Lt,e=>l(7,o=e)),c(t,we,e=>l(8,s=e)),t.$$.on_destroy.push(()=>u());let a,d,{todoListIndex:f}=n,{filter:p}=n,m=-1,g=-1;function h(e){l(3,m=e)}function $(e){clearTimeout(d),d=setTimeout(()=>{l(4,g=-1)},1e3),l(4,g=e),l(3,m=-1)}let v=-1;function x(e){l(5,v=e),setTimeout(()=>{try{Pe.complete(e)}catch(e){alert(e)}l(5,v=-1)},1500)}return t.$$set=e=>{"todoListIndex"in e&&l(0,f=e.todoListIndex),"filter"in e&&l(1,p=e.filter)},t.$$.update=()=>{2&t.$$.dirty&&(l(2,a=(e=>oe(Pe,t=>{let n=[...t];for(let t=n.length-1;t>=0;t--)n[t].sourceIndex=t,e(n[t])||n.splice(t,1);return n}))(p)),u(),u=r(a,e=>l(6,i=e)))},[f,p,a,m,g,v,i,o,s,h,function(e,t){Pe.edit(e,t),l(3,m=-1)},$,x,function(e){S(t,e)},e=>x(e.sourceIndex),e=>h(e.sourceIndex),e=>$(e.sourceIndex)]}class Nt extends te{constructor(e){super(),ee(this,e,Tt,Et,o,{todoListIndex:0,filter:1})}}function At(e){const t={todoList:Pe,skillList:ve,notifications:Ae,language:we,display:Ne,xp:Oe};for(let e in t)t[e].subscribe(t=>{window.localStorage.setItem(e,JSON.stringify(t))});return[]}class Ot extends te{constructor(e){super(),ee(this,e,At,null,o,{})}}function Pt(e,t,n){const l=e.slice();return l[3]=t[n],l}function zt(e){let t;return{c(){t=m("li"),t.textContent="No notifications"},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function jt(e){let t,n,l,i,o,r,s,c,u=`${0!==e[3].timeLeft?pe(e[3].timeLeft)[e[1]]:""} ${e[2][e[3].message]} ${e[3].todoContent}`,p=(e[3].date?ae(e[3].date):"")+"";return{c(){t=m("li"),n=m("b"),l=g(u),i=g("\r\n         \r\n        "),o=m("div"),r=m("i"),s=g(p),c=h()},m(e,u){d(e,t,u),a(t,n),a(n,l),a(t,i),a(t,o),a(o,r),a(r,s),a(t,c)},p(e,t){7&t&&u!==(u=`${0!==e[3].timeLeft?pe(e[3].timeLeft)[e[1]]:""} ${e[2][e[3].message]} ${e[3].todoContent}`)&&k(l,u),1&t&&p!==(p=(e[3].date?ae(e[3].date):"")+"")&&k(s,p)},d(e){e&&f(t)}}}function Ft(t){let n,l,i;return{c(){n=m("a"),n.textContent="Clear"},m(e,t){d(e,n,t),l||(i=v(n,"click",Ae.clear),l=!0)},p:e,d(e){e&&f(n),l=!1,i()}}}function Wt(t){let n,l,i,o,r=0===t[0].length&&zt(),s=t[0],c=[];for(let e=0;e<s.length;e+=1)c[e]=jt(Pt(t,s,e));let u=t[0].length>0&&Ft();return{c(){n=m("div"),l=m("ul"),r&&r.c(),i=h();for(let e=0;e<c.length;e+=1)c[e].c();o=h(),u&&u.c()},m(e,t){d(e,n,t),a(n,l),r&&r.m(l,null),a(l,i);for(let e=0;e<c.length;e+=1)c[e].m(l,null);a(n,o),u&&u.m(n,null)},p(e,[t]){if(0===e[0].length?r||(r=zt(),r.c(),r.m(l,i)):r&&(r.d(1),r=null),7&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const i=Pt(e,s,n);c[n]?c[n].p(i,t):(c[n]=jt(i),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}e[0].length>0?u?u.p(e,t):(u=Ft(),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:e,o:e,d(e){e&&f(n),r&&r.d(),p(c,e),u&&u.d()}}}function Vt(e,t,n){let l,i,o;return c(e,Ae,e=>n(0,l=e)),c(e,we,e=>n(1,i=e)),c(e,be,e=>n(2,o=e)),[l,i,o]}class Ut extends te{constructor(e){super(),ee(this,e,Vt,Wt,o,{})}}function Xt(t){let n,i,o,r,s,c,p,$,w,I,M,R,D,L,S=t[2].submit+"";return{c(){n=m("form"),i=m("input"),s=h(),c=m("button"),p=g(S),w=h(),I=m("a"),M=g("×"),b(i,"placeholder",o="🔍"),b(i,"class",r=u(""!==t[0]?"active":"")+" svelte-vg1911"),b(c,"id","submit"),b(c,"type","submit"),b(c,"class",$=u(t[0]!==t[1].searchString?"displayed":"")+" svelte-vg1911"),b(I,"id","clear"),b(I,"class",R=u(""!==t[0]?"visible":"")+" svelte-vg1911"),b(n,"class","svelte-vg1911")},m(e,l){d(e,n,l),a(n,i),y(i,t[0]),a(n,s),a(n,c),a(c,p),a(n,w),a(n,I),a(I,M),D||(L=[v(i,"input",t[5]),v(I,"click",t[4]),v(n,"submit",x(t[3]))],D=!0)},p(e,[t]){1&t&&r!==(r=u(""!==e[0]?"active":"")+" svelte-vg1911")&&b(i,"class",r),1&t&&i.value!==e[0]&&y(i,e[0]),4&t&&S!==(S=e[2].submit+"")&&k(p,S),3&t&&$!==($=u(e[0]!==e[1].searchString?"displayed":"")+" svelte-vg1911")&&b(c,"class",$),1&t&&R!==(R=u(""!==e[0]?"visible":"")+" svelte-vg1911")&&b(I,"class",R)},i:e,o:e,d(e){e&&f(n),D=!1,l(L)}}}function Bt(e,t,n){let l,i;c(e,Ne,e=>n(1,l=e)),c(e,be,e=>n(2,i=e));let o=l.searchString;function r(){Ne.listSearchResults(o)}return[o,l,i,r,function(){n(0,o=""),r()},function(){o=this.value,n(0,o)}]}class Ht extends te{constructor(e){super(),ee(this,e,Bt,Xt,o,{})}}function Gt(t){let n,l,o,r,s,c,p,$,x,w,k;return{c(){n=m("div"),l=m("span"),l.textContent="☀️",o=h(),r=m("span"),s=m("span"),c=g(" "),$=h(),x=m("span"),x.textContent="🌑",b(l,"class","sun svelte-amwxfi"),b(s,"class",p=u("switch "+(t[0]?"on":"off"))+" svelte-amwxfi"),b(r,"class","slider svelte-amwxfi"),b(x,"class","moon svelte-amwxfi"),b(n,"class","day-night-toggle svelte-amwxfi")},m(e,u){d(e,n,u),a(n,l),a(n,o),a(n,r),a(r,s),a(s,c),a(n,$),a(n,x),w||(k=v(n,"click",(function(){i(t[1])&&t[1].apply(this,arguments)})),w=!0)},p(e,[n]){t=e,1&n&&p!==(p=u("switch "+(t[0]?"on":"off"))+" svelte-amwxfi")&&b(s,"class",p)},i:e,o:e,d(e){e&&f(n),w=!1,k()}}}function Jt(e,t,n){let{nightMode:l}=t,{toggleNightMode:i}=t;return e.$$set=e=>{"nightMode"in e&&n(0,l=e.nightMode),"toggleNightMode"in e&&n(1,i=e.toggleNightMode)},[l,i]}class Qt extends te{constructor(e){super(),ee(this,e,Jt,Gt,o,{nightMode:0,toggleNightMode:1})}}function Yt(t){let n,l,i,o,r,s;return{c(){n=m("div"),l=m("abbr"),i=m("div"),o=m("div"),b(o,"class","xp-fill svelte-1fs51th"),b(o,"style",r=`width: calc(${Math.floor(100*t[0]/Kt)}% - 2px);`),b(i,"class","xp-bar svelte-1fs51th"),b(l,"title",s=t[0]+" XP"),b(n,"class","xp-bar-container svelte-1fs51th")},m(e,t){d(e,n,t),a(n,l),a(l,i),a(i,o)},p(e,[t]){1&t&&r!==(r=`width: calc(${Math.floor(100*e[0]/Kt)}% - 2px);`)&&b(o,"style",r),1&t&&s!==(s=e[0]+" XP")&&b(l,"title",s)},i:e,o:e,d(e){e&&f(n)}}}const Kt=500;function Zt(e,t,n){let l;return c(e,Oe,e=>n(0,l=e)),[l]}class en extends te{constructor(e){super(),ee(this,e,Zt,Yt,o,{})}}function tn(e){let t;return{c(){t=m("b"),t.textContent="!"},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function nn(e){let t,n,l,i,o=e[2].viewSeparate+"";return{c(){t=m("a"),n=g(o)},m(e,o){d(e,t,o),a(t,n),l||(i=v(t,"click",Ne.setSeparateDisplay),l=!0)},p(e,t){4&t&&o!==(o=e[2].viewSeparate+"")&&k(n,o)},d(e){e&&f(t),l=!1,i()}}}function ln(e){let t,n,l,i,o=e[2].viewMixed+"";return{c(){t=m("a"),n=g(o)},m(e,o){d(e,t,o),a(t,n),l||(i=v(t,"click",Ne.setMixedDisplay),l=!0)},p(e,t){4&t&&o!==(o=e[2].viewMixed+"")&&k(n,o)},d(e){e&&f(t),l=!1,i()}}}function on(e){let t,n,l,i;return t=new Nt({props:{todoListIndex:0,filter:cn(e[0],0)}}),l=new Nt({props:{todoListIndex:1,filter:cn(e[0],1)}}),{c(){Q(t.$$.fragment),n=h(),Q(l.$$.fragment)},m(e,o){Y(t,e,o),d(e,n,o),Y(l,e,o),i=!0},p(e,n){const i={};1&n&&(i.filter=cn(e[0],0)),t.$set(i);const o={};1&n&&(o.filter=cn(e[0],1)),l.$set(o)},i(e){i||(B(t.$$.fragment,e),B(l.$$.fragment,e),i=!0)},o(e){H(t.$$.fragment,e),H(l.$$.fragment,e),i=!1},d(e){K(t,e),e&&f(n),K(l,e)}}}function rn(e){let t,n;return t=new Nt({props:{todoListIndex:0,filter:cn(e[0],0)}}),{c(){Q(t.$$.fragment)},m(e,l){Y(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.filter=cn(e[0],0)),t.$set(l)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function sn(e){let t,n,i,o,r,s,c,p,$,x,w,y,I,M,R,D,L,S,C,_,q,E,T,N,A,O,P,z,j,F,W,V,G,J,Z,ee,te,ne,le,ie,oe,re=(e[0].viewCompleted?e[2].hideCompleted:e[2].viewCompleted)+"",se="ro"===e[3]?"English":"română",ce=e[2].skills+"";n=new Ot({}),r=new Ht({});let ue=e[1].length>0&&tn();function ae(e,t){return e[0].separateDisplay?ln:nn}I=new Ut({});let de=ae(e),fe=de(e);F=new Qt({props:{nightMode:e[0].nightMode,toggleNightMode:Ne.toggleNightMode}}),V=new en({});const pe=[rn,on],me=[];function ge(e,t){return e[0].separateDisplay?1:0}return J=ge(e),Z=me[J]=pe[J](e),te=new Te({props:{open:e[0].modalOpen,toggleSkillModal:Ne.toggleModal}}),{c(){t=m("div"),Q(n.$$.fragment),i=h(),o=m("div"),Q(r.$$.fragment),s=h(),c=m("div"),p=m("div"),$=m("button"),x=g("📧 Notifications "),ue&&ue.c(),w=h(),y=m("div"),Q(I.$$.fragment),M=h(),R=m("div"),D=m("button"),D.textContent="🔧 Options",L=h(),S=m("div"),fe.c(),C=h(),_=m("a"),q=g(re),E=h(),T=m("a"),N=g(se),A=h(),O=m("button"),P=g("🎸 "),z=g(ce),j=h(),Q(F.$$.fragment),W=h(),Q(V.$$.fragment),G=h(),Z.c(),ee=h(),Q(te.$$.fragment),b(y,"class","notifications dropdown-content"),b(p,"class","dropdown"),b(S,"class","dropdown-content"),b(R,"class","dropdown"),b(c,"class","menu"),b(o,"class","container svelte-1oobm5z"),b(t,"id","app"),b(t,"class",ne=u(""+(e[0].nightMode?"night":"day"))+" svelte-1oobm5z")},m(e,l){d(e,t,l),Y(n,t,null),a(t,i),a(t,o),Y(r,o,null),a(o,s),a(o,c),a(c,p),a(p,$),a($,x),ue&&ue.m($,null),a(p,w),a(p,y),Y(I,y,null),a(c,M),a(c,R),a(R,D),a(R,L),a(R,S),fe.m(S,null),a(S,C),a(S,_),a(_,q),a(S,E),a(S,T),a(T,N),a(c,A),a(c,O),a(O,P),a(O,z),a(c,j),Y(F,c,null),a(o,W),Y(V,o,null),a(o,G),me[J].m(o,null),a(o,ee),Y(te,o,null),le=!0,ie||(oe=[v(_,"click",Ne.toggleViewCompleted),v(T,"click",we.toggle),v(O,"click",Ne.toggleModal)],ie=!0)},p(e,[n]){e[1].length>0?ue||(ue=tn(),ue.c(),ue.m($,null)):ue&&(ue.d(1),ue=null),de===(de=ae(e))&&fe?fe.p(e,n):(fe.d(1),fe=de(e),fe&&(fe.c(),fe.m(S,C))),(!le||5&n)&&re!==(re=(e[0].viewCompleted?e[2].hideCompleted:e[2].viewCompleted)+"")&&k(q,re),(!le||8&n)&&se!==(se="ro"===e[3]?"English":"română")&&k(N,se),(!le||4&n)&&ce!==(ce=e[2].skills+"")&&k(z,ce);const l={};1&n&&(l.nightMode=e[0].nightMode),F.$set(l);let i=J;J=ge(e),J===i?me[J].p(e,n):(U(),H(me[i],1,1,()=>{me[i]=null}),X(),Z=me[J],Z||(Z=me[J]=pe[J](e),Z.c()),B(Z,1),Z.m(o,ee));const r={};1&n&&(r.open=e[0].modalOpen),te.$set(r),(!le||1&n&&ne!==(ne=u(""+(e[0].nightMode?"night":"day"))+" svelte-1oobm5z"))&&b(t,"class",ne)},i(e){le||(B(n.$$.fragment,e),B(r.$$.fragment,e),B(I.$$.fragment,e),B(F.$$.fragment,e),B(V.$$.fragment,e),B(Z),B(te.$$.fragment,e),le=!0)},o(e){H(n.$$.fragment,e),H(r.$$.fragment,e),H(I.$$.fragment,e),H(F.$$.fragment,e),H(V.$$.fragment,e),H(Z),H(te.$$.fragment,e),le=!1},d(e){e&&f(t),K(n),K(r),ue&&ue.d(),K(I),fe.d(),K(F),K(V),me[J].d(),K(te),ie=!1,l(oe)}}}function cn(e,t){let n,l=t=>e.viewCompleted||!t.completed;return n=e.separateDisplay?e.questsFirst?e=>l(e)&&e.type===t:e=>l(e)&&e.type!==t:e=>l(e),t=>n(t)&&(t=>t.content.includes(e.searchString))(t)}function un(e,t,n){let l,i,o,r;return c(e,Ne,e=>n(0,l=e)),c(e,Ae,e=>n(1,i=e)),c(e,be,e=>n(2,o=e)),c(e,we,e=>n(3,r=e)),L(()=>{document.title="RPG Todo"}),[l,i,o,r]}return new class extends te{constructor(e){super(),ee(this,e,un,sn,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
